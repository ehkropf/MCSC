%% unbounded 4 polygon example
clear


%% create polygon domain
P = extpolys(...
  polygon([ 2.519616222788787 - 0.007018429589939i,...
            1.186114600700015 + 1.887957559694108i,...
           -1.172077741520133 + 1.438778065937890i,...
           -2.463468786069263 - 1.172077741520131i,...
            0.568492796785214 - 1.930068137233750i...
          ]),...
  polygon([ 2.738213399503720 - 1.260545905707196i,...
            1.405707196029777 - 2.347394540942927i,...
            2.936724565756822 - 4.253101736972704i,...
            4.941687344913149 - 3.240694789081886i...
          ]),...
  polygon([ 3.573200992555831 + 0.804714640198510i,...
            5.012406947890818 + 0.198759305210918i,...
            7.121588089330023 + 1.409181141439207i,...
            5.496277915632754 + 1.448883374689825i,...
            4.491315136476427 + 1.787841191066998i...
          ]),...
  polygon([ 2.916873449131515 + 1.657568238213400i,...
            3.723325062034740 + 3.394540942928040i,...
            3.003722084367247 + 4.883374689826303i,...
            2.135235732009927 + 3.841191066997518i,...
            2.854838709677421 + 3.183622828784120i...
          ])...
);


%% circle domain
Cg = circdomain(...
  { 0 1 [ 0; pi/3; 2*pi/3; 4*pi/3; 5*pi/3 ] },...
  { 2-2i 0.5 [ pi/2; pi; 3*pi/2; 2*pi ] },...
  { 2 0.5 [ pi; 4*pi/3; 0; pi/2; 2*pi/3 ] },...
  { 2+2i 0.5 [ 4*pi/3; 0; pi/3; 2*pi/3; pi ] } ...
);


%% create map object
opts = extmapopts;
opts.method = 'fpls';
opts.monitor = 1;

f = extmap(P, circdomain(Cg), opts);

cc = 2.1-0.34i;
plot(f,cc)
